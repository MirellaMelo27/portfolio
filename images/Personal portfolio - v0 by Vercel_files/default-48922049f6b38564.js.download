(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{2777:(e,t,s)=>{"use strict";s.d(t,{SidebarFavoritesListDynamic:()=>u});var a=s(7336),r=s(80644),i=s(72584),l=s(64854),n=s(11913),o=s(67952),d=s(70422),c=s(67921);function u(e){let{chats:t}=e,{data:s,setData:u}=(0,l.r)(t),h=(0,r.useMemo)(()=>{var e;return null!==(e=null==s?void 0:s.slice(0,100))&&void 0!==e?e:[]},[s]),p=(0,o.k)("sidebar");return h.length?(0,a.jsxs)(i.SidebarSection,{className:"collapsed:hidden",children:[(0,a.jsx)(i.SidebarLabel,{children:p("favoriteChats")}),(0,a.jsx)(i.SidebarList,{children:h.map(e=>(0,a.jsxs)(i.SidebarListItem,{children:[(0,a.jsx)(i.SidebarListItemLink,{href:"/chat/".concat((0,c.D)(e.chatId,e.title)),children:(0,a.jsx)(d.W,{chat:e})}),(0,a.jsx)(i.SidebarListItemAction,{children:(0,a.jsx)(n.ChatActions,{chat:e,side:"right",tooltip:{content:"",hidden:!0},setChatHistoryData:u})})]},e.chatId))})]}):null}},12463:(e,t,s)=>{"use strict";s.d(t,{BE:()=>p,I6:()=>x,Uz:()=>o,_s:()=>n,cp:()=>c,gk:()=>m,zj:()=>h});var a=s(7336),r=s(4495),i=s(80644),l=s(98636);let n=e=>{let{shouldScaleBackground:t=!0,...s}=e;return(0,a.jsx)(l._s.Root,{shouldScaleBackground:t,...s})};n.displayName="Drawer";let o=l._s.Trigger,d=l._s.Portal,c=l._s.Close,u=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(l._s.Overlay,{className:(0,r.cn)("bg-alpha-700 dark:bg-alpha-900 fixed inset-0 z-50",s),ref:t,...i})});u.displayName=l._s.Overlay.displayName;let h=i.forwardRef((e,t)=>{let{className:s,hideThumb:i,children:n,...o}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(l._s.Content,{className:(0,r.cn)("bg-background fixed inset-x-0 bottom-0 z-50 mt-24 flex h-[96%] flex-col gap-2 rounded-t-[10px] p-2 shadow-[0_0_0_1px_hsl(var(--alpha-400))] outline-none",s),ref:t,...o,children:[!i&&(0,a.jsx)("div",{className:"bg-alpha-400 mx-auto mt-4 h-2 w-[100px] rounded-full"}),n]})]})});h.displayName="DrawerContent";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...s})};p.displayName="DrawerHeader";let m=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(l._s.Title,{className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",s),ref:t,...i})});m.displayName=l._s.Title.displayName;let x=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(l._s.Description,{className:(0,r.cn)("text-muted-foreground text-sm",s),ref:t,...i})});x.displayName=l._s.Description.displayName},13778:(e,t,s)=>{"use strict";s.d(t,{G:()=>a});let a=(0,s(72244).G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M0 1H0.75H5C6.2267 1 7.31583 1.58901 8 2.49963C8.68417 1.58901 9.7733 1 11 1H15.25H16V1.75V13V13.75H15.25H10.7426C10.1459 13.75 9.57361 13.9871 9.15165 14.409L8.53033 15.0303H7.46967L6.84835 14.409C6.42639 13.9871 5.8541 13.75 5.25736 13.75H0.75H0V13V1.75V1ZM7.25 4.75C7.25 3.50736 6.24264 2.5 5 2.5H1.5V12.25H5.25736C5.96786 12.25 6.65758 12.4516 7.25 12.8232V4.75ZM8.75 12.8232V4.75C8.75 3.50736 9.75736 2.5 11 2.5H14.5V12.25H10.7426C10.0321 12.25 9.34242 12.4516 8.75 12.8232Z" fill="currentColor"/>')},21512:(e,t,s)=>{"use strict";s.d(t,{SidebarHistoryListDynamic:()=>m});var a=s(7336),r=s(80644),i=s(38230),l=s.n(i),n=s(72584),o=s(64854),d=s(53616),c=s(11913),u=s(67952),h=s(70422),p=s(67921);function m(e){let{chats:t}=e,{data:s,setData:i}=(0,o.m)(t),m=(0,r.useMemo)(()=>{var e;return null!==(e=null==s?void 0:s.slice(0,10))&&void 0!==e?e:[]},[s]),x=(0,u.k)("sidebar");return(0,a.jsxs)(n.SidebarSection,{className:"collapsed:hidden",children:[(0,a.jsx)(n.SidebarLabel,{children:x("recentChats")}),(0,a.jsxs)(n.SidebarList,{children:[m.map(e=>(0,a.jsxs)(n.SidebarListItem,{children:[(0,a.jsx)(n.SidebarListItemLink,{href:"/chat/".concat((0,p.D)(e.chatId,e.title)),unavailable:e.optimistic,children:(0,a.jsx)(h.W,{chat:e})}),(0,a.jsx)(n.SidebarListItemAction,{children:(0,a.jsx)(c.ChatActions,{chat:e,side:"right",tooltip:{content:"",hidden:!0},setChatHistoryData:i,disabled:e.optimistic})})]},e.chatId)),(0,a.jsx)(n.SidebarListMoreButton,{asChild:!0,children:(0,a.jsxs)(l(),{href:"/chat/history",children:[x("viewAll")," ",(0,a.jsx)(d.b,{})]})})]})]})}},22297:(e,t,s)=>{"use strict";s.d(t,{SidebarFlagSwitcher:()=>r});var a=s(39695);function r(e){let{oldSidebar:t,newSidebar:s}=e;return(0,a.t)()?s:t}},28744:(e,t,s)=>{Promise.resolve().then(s.bind(s,99887)),Promise.resolve().then(s.bind(s,33437)),Promise.resolve().then(s.bind(s,73669)),Promise.resolve().then(s.bind(s,42794)),Promise.resolve().then(s.bind(s,4432)),Promise.resolve().then(s.bind(s,52106)),Promise.resolve().then(s.bind(s,90098)),Promise.resolve().then(s.bind(s,43390)),Promise.resolve().then(s.bind(s,33874)),Promise.resolve().then(s.bind(s,2777)),Promise.resolve().then(s.bind(s,22297)),Promise.resolve().then(s.bind(s,21512)),Promise.resolve().then(s.bind(s,41315)),Promise.resolve().then(s.bind(s,62928)),Promise.resolve().then(s.bind(s,75720)),Promise.resolve().then(s.bind(s,64254)),Promise.resolve().then(s.bind(s,99876)),Promise.resolve().then(s.bind(s,72584)),Promise.resolve().then(s.bind(s,36548)),Promise.resolve().then(s.bind(s,74797)),Promise.resolve().then(s.bind(s,93520)),Promise.resolve().then(s.bind(s,87277)),Promise.resolve().then(s.bind(s,29106)),Promise.resolve().then(s.bind(s,45588)),Promise.resolve().then(s.bind(s,54962)),Promise.resolve().then(s.t.bind(s,38230,23))},33874:(e,t,s)=>{"use strict";s.d(t,{NewFeatureBanner:()=>n});var a=s(7336),r=s(20287),i=s(81616),l=s(80644);function n(e){let{url:t,description:s}=e,[n,o]=(0,l.useState)(!0),d=(0,l.useCallback)(()=>{r.A.set("last-clicked-feature",s,{expires:30})},[s]);return n?(0,a.jsxs)("div",{className:"collapsed:hidden relative w-full",children:[(0,a.jsx)("div",{className:"from-muted absolute inset-x-0 -top-8 z-10 h-8 w-full bg-gradient-to-t"}),(0,a.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",onClick:()=>d(),className:"relative z-20 block h-fit w-full p-2 pt-0",children:(0,a.jsxs)("section",{className:"bg-background border-alpha-400 flex flex-col gap-1.5 rounded-lg border p-3 drop-shadow-sm transition-[transform,border] hover:-translate-y-0.5 hover:border-gray-300 hover:drop-shadow-md",children:[(0,a.jsxs)("span",{className:"flex items-center justify-between text-gray-500",children:[(0,a.jsx)("h5",{className:"text-[13px] font-medium",children:"New Feature"}),(0,a.jsx)("span",{className:"sr-only",children:"Learn more"}),(0,a.jsx)(i.$,{tooltip:"Close",size:"xs",className:"size-5 rounded-sm",variant:"ghost",onClick:e=>{e.preventDefault(),d(),o(!1)},children:(0,a.jsx)("span",{className:"text-lg",children:"\xd7"})})]}),(0,a.jsx)("p",{className:"text-sm",children:s})]})})]}):null}},41315:(e,t,s)=>{"use strict";s.d(t,{SidebarMainNav:()=>S});var a=s(7336),r=s(35399),i=s(72584),l=s(99887),n=s(75720),o=s(95057),d=s(67952);function c(){let{setMobileSheetOpen:e,isCollapsed:t}=(0,n.e)(),s=(0,d.k)("newChatButton");return(0,a.jsx)(o.Tooltip,{open:!!t&&void 0,content:s("newChat"),side:"right",children:(0,a.jsx)(l.NewChatButton,{className:"mb-0.5",onButtonClick:()=>e(!1),variant:"collapsible"})})}var u=s(81616),h=s(13778),p=s(64297),m=s(14363),x=s(64826),f=s(30542),b=s(37644),j=s(10299),v=s(26939),g=s(22931);s(80644);var w=s(72945),y=s(77011),N=s(18730),L=s(48473);function S(e){let{canUseProjects:t,canUseTemplates:s}=e,{setFeedbackDialog:l}=(0,r.f)(),{setShowQuickProjectCreateDialog:n}=(0,b.A)(),{data:o}=(0,w.v)(),{user:S}=(0,v.J)(),C=(0,j.useRouter)(),k=(0,d.k)("sidebar"),{chatId:I}=(0,N.xz)(),M=!!((null==S?void 0:S.v0plan)==="v0-level0"&&(null==o?void 0:o.length)&&o.length>=g.AB),{setUpgradePromptOpen:A}=(0,y.g)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.W,{onSuccess:e=>{I?(0,L.M)({payload:{chatId:I,projectId:e}}):C.push("/chat/projects/".concat(e))}}),(0,a.jsx)(i.SidebarSection,{children:(0,a.jsxs)(i.SidebarList,{className:"gap-2",children:[(0,a.jsx)(c,{}),s&&(0,a.jsx)(i.SidebarListItem,{children:(0,a.jsxs)(i.SidebarListItemLink,{href:"/chat/community",altmatches:["/chat/community/submissions","/chat/community/pending"],tooltip:k("community"),children:[(0,a.jsx)(m.Kv,{}),(0,a.jsx)("span",{children:k("community")})]})}),(0,a.jsx)(i.SidebarListItem,{children:(0,a.jsxs)(i.SidebarListItemLink,{href:"/chat/history",tooltip:k("library"),altmatches:["/chat/blocks"],children:[(0,a.jsx)(h.G,{}),(0,a.jsx)("span",{children:k("library")})]})}),t&&(0,a.jsxs)(i.SidebarListItem,{children:[(0,a.jsxs)(i.SidebarListItemLink,{href:"/chat/projects",tooltip:k("projects"),children:[(0,a.jsx)(p.z,{}),(0,a.jsx)("span",{children:k("projects")})]}),(0,a.jsx)(i.SidebarListItemAction,{children:(0,a.jsx)(u.$,{tooltip:{content:k(M?"scopeSwitcher.upgradePlan":"newProject"),side:"right"},variant:"ghost",onClick:()=>M?A(!0):n(!0),children:(0,a.jsx)(x.F,{})})})]}),(0,a.jsx)(i.SidebarListItem,{children:(0,a.jsxs)(i.SidebarListItemButton,{onClick:()=>l(!0),tooltip:k("feedback"),children:[(0,a.jsx)(f.v,{}),(0,a.jsx)("span",{children:k("feedback")})]})})]})})]})}},55655:(e,t,s)=>{"use strict";s.d(t,{r:()=>r});var a=s(80644);function r(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(navigator.userAgent.toUpperCase().includes("MAC"))},[]),e}},61108:e=>{e.exports={"other-teams":"scope-switcher_other-teams__NPH_D"}},62928:(e,t,s)=>{"use strict";s.d(t,{SidebarProjectsListDynamic:()=>p});var a=s(7336),r=s(67952),i=s(72945),l=s(72584),n=s(38230),o=s.n(n),d=s(65718),c=s(53616),u=s(85625),h=s(90194);function p(e){let{initialProjects:t}=e,{data:s}=(0,i.v)(t),n=(0,r.k)("sidebar.projectsList");if(!s||0===s.length)return null;if(null!==s[0].favoritedAt){let e=s.filter(e=>e.favoritedAt);return(0,a.jsxs)(l.SidebarSection,{className:"collapsed:hidden",children:[(0,a.jsx)(l.SidebarLabel,{children:n("favoritesTitle")}),(0,a.jsxs)(l.SidebarList,{children:[e.slice(0,5).map(e=>(0,a.jsxs)(l.SidebarListItem,{children:[(0,a.jsxs)(l.SidebarListItemLink,{href:"/chat/projects/".concat(e.projectId),children:[(0,a.jsx)(d.h,{className:"size-4 bg-transparent after:hidden [&>svg]:size-4",color:e.color,icon:(0,u.KI)(e.icon),size:"sm"}),(0,a.jsx)("span",{title:e.name,children:e.name.length>21?"".concat(e.name.slice(0,21),"..."):e.name})]}),(0,a.jsx)(l.SidebarListItemAction,{children:(0,a.jsx)(h.L,{project:e,side:"right",actions:["favorite","delete"]})})]},e.projectId)),e.length>5&&(0,a.jsx)(l.SidebarListMoreButton,{asChild:!0,children:(0,a.jsxs)(o(),{href:"/chat/projects",children:[n("viewAll")," ",(0,a.jsx)(c.b,{})]})})]})]})}return(0,a.jsxs)(l.SidebarSection,{className:"collapsed:hidden",children:[(0,a.jsx)(l.SidebarLabel,{children:n("title")}),(0,a.jsxs)(l.SidebarList,{children:[s.slice(0,5).map(e=>(0,a.jsxs)(l.SidebarListItem,{children:[(0,a.jsxs)(l.SidebarListItemLink,{href:"/chat/projects/".concat(e.projectId),children:[(0,a.jsx)(d.h,{className:"size-4 bg-transparent after:hidden [&>svg]:size-4",color:e.color,icon:(0,u.KI)(e.icon),size:"sm"}),(0,a.jsx)("span",{title:e.name,children:e.name.length>21?"".concat(e.name.slice(0,21),"..."):e.name})]}),(0,a.jsx)(l.SidebarListItemAction,{children:(0,a.jsx)(h.L,{project:e,side:"right",actions:["favorite","delete"]})})]},e.projectId)),(0,a.jsx)(l.SidebarListMoreButton,{asChild:!0,children:(0,a.jsxs)(o(),{href:"/chat/projects",children:[n("viewAll")," ",(0,a.jsx)(c.b,{})]})})]})]})}},64254:(e,t,s)=>{"use strict";s.d(t,{SidebarUserNav:()=>ex});var a=s(7336),r=s(80644),i=s(11192),l=s(76989),n=s(81616),o=s(76073),d=s(50688),c=s(67952),u=s(70608),h=s(46556),p=s(84984),m=s(22854),x=s(95805),f=s(94828),b=s(25357),j=s(72244);let v=(0,j.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M13.4549 7.22745L13.3229 7.16146L2.5 1.74999L2.4583 1.72914L1.80902 1.4045L1.3618 1.18089C1.19558 1.09778 1 1.21865 1 1.4045L1 1.9045L1 2.63041L1 2.67704L1 13.3229L1 13.3696L1 14.0955L1 14.5955C1 14.7813 1.19558 14.9022 1.3618 14.8191L1.80902 14.5955L2.4583 14.2708L2.5 14.25L13.3229 8.83852L13.4549 8.77253L14.2546 8.37267L14.5528 8.2236C14.737 8.13147 14.737 7.86851 14.5528 7.77638L14.2546 7.62731L13.4549 7.22745ZM11.6459 7.99999L2.5 3.42704L2.5 12.5729L11.6459 7.99999Z" fill="currentColor"/>');var g=s(38230),w=s.n(g),y=s(4495),N=s(24607),L=s(43665),S=s(80391),C=s(79822),k=s(51621),I=s(24582),M=s(367),A=s(10299),D=s(1510),P=s(1665),z=s(35740),H=s(97210),R=s(49388),T=s(61108),V=s.n(T),_=s(2115);function B(e){let{onUpgradeTeam:t,onRequestAccess:s,closeMenu:i,children:l}=e,u=(0,c.k)("sidebar.scopeSwitcher"),[h,p]=(0,r.useState)(!1),[m,x]=(0,r.useTransition)(),{scopes:f,activeScope:b,setActiveScope:j,isActiveScopeReady:v,user:g}=(0,o.k6)(),[w]=(0,R.Q3)(b,1e3),N=(0,r.useMemo)(()=>null==f?void 0:f.sort(e=>e.id===(null==w?void 0:w.id)?-1:1),[f,null==w?void 0:w.id]),L=(0,r.useCallback)(e=>!!v&&e===(null==w?void 0:w.id),[w,v]),S=()=>{let e=document.querySelector(".sidebar-menu");e&&(e.style.height="".concat(e.clientHeight,"px"))},I=(0,r.useCallback)(e=>{x(async()=>{S(),await j(e),i()})},[i,j]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex h-10 items-center justify-between text-gray-500",children:(0,a.jsx)(C.N,{mode:"wait",children:h?(0,a.jsxs)(k.P.button,{disabled:m,className:"transition-color flex w-full items-center gap-1 px-3 py-1.5 hover:text-gray-900 hover:underline disabled:pointer-events-none",...q,onClick:()=>p(!1),children:[(0,a.jsx)(M.M,{}),(0,a.jsx)("span",{className:"text-[13px] font-medium leading-[16px]",children:u("back")})]},"switch-team"):(0,a.jsx)(k.P.div,{...q,className:"flex items-center px-3",children:(0,a.jsx)("span",{className:"text-[13px] font-medium leading-[16px]",children:g?g.email:""})},"email")})}),N?(0,a.jsx)("div",{className:"absolute inset-1.5 top-10 overflow-auto",children:N.map(e=>(0,a.jsx)(O,{user:g,scope:e,isOpen:h,isCurrentlyActive:L(e.id),onSelect:I,onRequestAccess:s,onUpgradeTeam:t},"menu-item-".concat(e.id)))}):null,N?h?(0,a.jsx)("div",{className:"h-[44px]"}):(0,a.jsx)(O,{className:"px-1.5",solo:!0,user:g,scope:w||N[0],isOpen:h,isCurrentlyActive:!0,onSelect:I,onRequestAccess:s,onUpgradeTeam:t},"closed-menu-scope"):(0,a.jsx)("div",{className:"h-[44px] px-3",children:w?(0,a.jsx)(E,{scope:w,user:g}):(0,a.jsx)(d.E,{className:"h-8 w-full rounded-lg"})}),(0,a.jsx)("div",{className:(0,y.cn)("relative overflow-hidden",h&&"pointer-events-none"),children:(0,a.jsxs)("div",{className:(0,y.cn)("transition-[opacity, filter] duration-300",h?"duration-100":"delay-50"),style:{opacity:+!h,filter:"blur(".concat(2*!!h,"px)")},children:[N?(0,a.jsx)("div",{className:"w-full p-1",children:(0,a.jsx)(n.$,{onClick:()=>p(!0),variant:"secondary",className:"w-full",size:"sm",children:"Switch Team"})}):null,l]})})]})}function O(e){let{onRequestAccess:t,onUpgradeTeam:s,user:i,solo:n,scope:o,onSelect:d,isCurrentlyActive:c,isOpen:u,className:p}=e,[m,x]=(0,r.useTransition)(),f=(0,A.useRouter)(),b=(0,P.sJ)(o),{scopeMembershipRole:j,hasV0Seat:v,accessRequested:g,scopeSlug:w,scopePlan:N}=U(o,i),L=u||c,S=e=>"".concat(o.id,"-").concat(e),k=(0,r.useMemo)(()=>u&&c?"check":b?"locked":m?"loading":null,[u,c,b,m]),M=(0,r.useCallback)(e=>{if(e.preventDefault(),b){(0,P.qm)({slug:w,push:f.push});return}if(v){x(()=>d(o));return}"OWNER"===j?((0,_.u)("OpenTeamUpgradeModal",{teamId:o.id}),s(o)):g||((0,_.u)("OpenRequestAccessModal",{teamId:o.id}),t(o))},[b,v,j,g,w,f.push,d,o,s,t]);return i&&(b||N||"OWNER"===j)?(0,a.jsx)("div",{className:(0,y.cn)("relative flex h-[44px] cursor-pointer items-center justify-between transition-[opacity,filter] duration-150",!u&&"pointer-events-none",!n&&(!v||b)&&V()["other-teams"],p),style:{opacity:+!!L,filter:"blur(".concat(.5*!L,"px)")},children:(0,a.jsx)(l.DropdownMenuItem,{className:(0,y.cn)("bg-background-subtle h-[44px] cursor-pointer"),disabled:g,onSelect:M,children:(0,a.jsx)(E,{scope:o,user:i,children:(0,a.jsxs)(C.N,{mode:"wait",children:["locked"===k?(0,a.jsx)(F,{children:(0,a.jsx)(h.C,{})},S("locked")):null,"check"===k?(0,a.jsx)(F,{children:(0,a.jsx)(I.J,{})},S("check")):null,"loading"===k?(0,a.jsx)(F,{children:(0,a.jsx)(H.y,{size:16})},S("loading")):null]})})})}):null}function E(e){let{scope:t,user:s,children:r}=e,i=(0,P.sJ)(t),{scopeIsUser:l,scopePlan:n,scopeMembershipRole:o,hasV0Seat:d,accessRequested:c,isLoading:u}=U(t,s);return(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[(0,a.jsx)(N.AvatarUser,{teamId:l?void 0:t.id,userId:null==s?void 0:s.id}),(0,a.jsxs)("div",{className:"flex min-w-0 flex-col items-start",children:[(0,a.jsx)("div",{className:"w-full truncate text-start text-sm font-medium leading-[20px] text-gray-900",children:l?t.username:t.name}),i?null:(0,a.jsx)(Z,{isLoading:u,role:o,scopePlan:n,scopeIsUser:l,v0Access:d,accessRequested:c})]})]}),r]})}function F(e){let{children:t}=e;return(0,a.jsx)(k.P.div,{exit:{opacity:0,transition:{duration:.1}},initial:{opacity:0,filter:"blur(1px)",scale:.9},animate:{opacity:1,scale:1,filter:"blur(0px)"},className:"text-gray-500",transition:{duration:.3},children:t})}function Z(e){let{isLoading:t,scopePlan:s,scopeIsUser:i,role:l,v0Access:n,accessRequested:o}=e,u=(0,c.k)("billingPlans"),h=n&&s,p=(0,r.useMemo)(()=>h?(0,a.jsx)(S.U3,{type:s}):"OWNER"===l?u("startTeamPlan"):o?u("accessRequested"):u("requestAccess"),[h,s,l,u,o]);return t||i&&!s?(0,a.jsx)(d.E,{className:"h-4 w-full rounded-lg "}):(0,a.jsx)("span",{className:"h-4 text-[13px] font-medium leading-[16px]  text-gray-500",children:p})}function U(e,t){let s=(0,L.W)(e),{planSlug:a,isLoading:r}=(0,z.N)(!!s||!e.limited,e.id),i=s?void 0:e.membership.role,l=!!(s&&a)||!!(!s&&t&&(0,D.f)(e,t)),n=s?e.username:e.slug,o=!!(!s&&e.accessRequested);return{scopeIsUser:s,scopePlan:a||(s?void 0:e.activeTrialPlan),scopeSlug:n,scopeMembershipRole:i,user:t,hasV0Seat:l,accessRequested:o,isLoading:r}}let G=(0,j.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.7071 2.39644C8.31658 2.00592 7.68341 2.00592 7.29289 2.39644L4.46966 5.21966L3.93933 5.74999L4.99999 6.81065L5.53032 6.28032L7.99999 3.81065L10.4697 6.28032L11 6.81065L12.0607 5.74999L11.5303 5.21966L8.7071 2.39644ZM5.53032 9.71966L4.99999 9.18933L3.93933 10.25L4.46966 10.7803L7.29289 13.6035C7.68341 13.9941 8.31658 13.9941 8.7071 13.6035L11.5303 10.7803L12.0607 10.25L11 9.18933L10.4697 9.71966L7.99999 12.1893L5.53032 9.71966Z" fill="currentColor"/>'),q={exit:{opacity:0,transition:{duration:.05}},animate:{opacity:1,filter:"blur(0px)",transition:{duration:.15}},initial:{opacity:0,filter:"blur(2px)"}};var $=s(76995),W=s(39715),K=s(59952),J=s(91284),Y=s(95057),X=s(14276);function Q(e){let{className:t}=e,{theme:s,setTheme:r}=(0,X.D)(),i=(0,c.k)("sidebar.themeSwitcher");return(0,a.jsx)(J.Tabs,{className:t,onClick:e=>e.stopPropagation(),onValueChange:e=>r(e),value:s,children:(0,a.jsxs)(J.TabsList,{className:(0,y.cn)("h-fit overflow-hidden rounded-full p-0 [&>[role=tab]]:size-6","[&>[role=tab]>.absolute]:-inset-px [&>[role=tab]>.absolute]:rounded-full [&>[role=tab]>.absolute]:border [&>[role=tab]>.absolute]:bg-transparent"),children:[(0,a.jsx)(Y.Tooltip,{content:i("system"),children:(0,a.jsxs)(J.TabsTrigger,{value:"system",children:[(0,a.jsx)($.L,{size:12}),(0,a.jsx)("span",{className:"sr-only",children:"System"})]})}),(0,a.jsx)(Y.Tooltip,{content:i("light"),children:(0,a.jsxs)(J.TabsTrigger,{value:"light",children:[(0,a.jsx)(K.b,{size:12}),(0,a.jsx)("span",{className:"sr-only",children:"Light"})]})}),(0,a.jsx)(Y.Tooltip,{content:i("dark"),children:(0,a.jsxs)(J.TabsTrigger,{value:"dark",children:[(0,a.jsx)(W.A,{size:12}),(0,a.jsx)("span",{className:"sr-only",children:"Dark"})]})})]})})}var ee=s(78088),et=s(77160),es=s(39060),ea=s(30009);let er=(0,ea.createServerReference)("005e59f4dca9322782371c7c4fe75d8ff25146aa24",ea.callServer,void 0,ea.findSourceMapURL,"logoutAction");var ei=s(62239),el=s(15888),en=s(8463),eo=s(42179),ed=s(77011),ec=s(17777),eu=s(93925),eh=s(75720);let ep=(0,i.default)(()=>s.e(3880).then(s.bind(s,73880)),{loadableGenerated:{webpack:()=>[73880]}}),em=(0,i.default)(()=>s.e(2506).then(s.bind(s,72506)),{loadableGenerated:{webpack:()=>[72506]}});function ex(){let e=(0,c.k)("sidebar.scopeSwitcher"),t=(0,A.useRouter)(),[s,i]=(0,r.useState)(!1),[x,j]=(0,r.useState)(null),[g,w]=(0,r.useState)(null),{setUpgradePromptOpen:y}=(0,ed.g)(),{setMobileSheetOpen:N}=(0,eh.e)(),{activeScope:L,user:S}=(0,o.k6)(),{planSlug:C,isLoading:k}=(0,z.N)(!0,null==L?void 0:L.id,!1),I="v0-enterprise"===C,M="v0-team"===C,D="v0-platinum"===C,P=(0,r.useCallback)(e=>{w(e),i(!1),j("upgrade-team")},[i]),H=(0,r.useCallback)(()=>{if(D)return t.push("/chat/upgrade");y(!0),i(!1),j(null)},[D,t,y]);return L&&S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.DropdownMenu,{open:s,onOpenChange:i,children:[(0,a.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(n.$,{"aria-label":"Profile Menu",className:"hover:bg-gray-150 transition-sidebar focus-visible:bg-gray-150 collapsed:size-10 data-[state=open]:bg-gray-150 active:bg-gray-150 relative h-10 w-full overflow-hidden p-[3px] ".concat(S.isAdminMode?"border-2 border-orange-600 bg-orange-200 py-2 hover:bg-orange-200 focus-visible:bg-orange-200 data-[state=open]:bg-orange-200":""),"data-testid":"user-menu-toggle",variant:"ghost",tooltip:S.isAdminMode?"You are in Admin Mode":void 0,children:(0,a.jsx)(E,{scope:L,user:S,children:(0,a.jsx)("div",{className:"collapsed:hidden flex items-center gap-2",children:(0,a.jsx)(G,{})})})})}),(0,a.jsx)(l.DropdownMenuContent,{align:"start",className:"sidebar-menu w-[275px] overflow-hidden",side:"top",sideOffset:8,children:(0,a.jsxs)(B,{closeMenu:()=>i(!1),onUpgradeTeam:P,onRequestAccess:e=>{w(e),i(!1),j("request-access")},children:[(0,a.jsx)(l.mB,{}),(0,a.jsxs)(l.DropdownMenuGroup,{children:[(I||M)&&"slug"in L?(0,a.jsx)(ew,{label:e("manageMembers"),href:"https://vercel.com/".concat(L.slug,"/~/settings/members"),Icon:(0,a.jsx)(m.z,{}),external:!0}):null,(0,a.jsx)(ew,{label:e("billing"),Icon:(0,a.jsx)(u.y,{}),href:"/chat/settings/billing"}),(0,a.jsx)(ew,{label:e("settings"),onClick:()=>{i(!1),N(!1)},Icon:(0,a.jsx)(b.H,{}),href:"/chat/settings"}),M?(0,a.jsx)(l.DropdownMenuItem,{onClick:H,children:(0,a.jsx)(ej,{label:e("upgradeToEnterprise"),Icon:(0,a.jsx)(f.l,{})})}):null,S.isV0Admin?(0,a.jsx)(ev,{label:S.isAdminMode?"Exit Admin Mode":"Admin Mode",Icon:(0,a.jsx)(h.C,{}),action:()=>(0,en.P)(!S.isAdminMode),children:(0,a.jsx)(ec.E,{variant:"secondary",children:"Internal"})}):null,S.isVercelian?(0,a.jsx)(ev,{label:S.isDemoMode?"Exit Demo Mode":"Demo Mode",Icon:(0,a.jsx)(v,{}),action:()=>(0,eo.P)(!S.isDemoMode),children:(0,a.jsx)(ec.E,{variant:"secondary",children:"Internal"})}):null,(0,a.jsx)(ew,{className:"flex md:hidden",label:e("discord"),Icon:(0,a.jsx)(eu.g,{className:"size-4"}),href:"/legacy"}),(0,a.jsx)(ev,{label:e("signOut"),Icon:(0,a.jsx)(p.f,{}),action:er})]}),(0,a.jsx)(l.mB,{}),(0,a.jsxs)(l.DropdownMenuGroup,{children:[(0,a.jsx)("div",{className:"flex h-8 items-center px-1.5 py-2",children:(0,a.jsx)("span",{className:"text-[13px] font-medium leading-[16px] text-gray-500",children:e("preferences")})}),(0,a.jsx)(eb,{label:e("theme"),children:(0,a.jsx)(Q,{})}),(0,a.jsx)(eb,{label:e("language"),children:(0,a.jsx)(ef,{})})]}),I||M||k?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.mB,{}),(0,a.jsx)(l.DropdownMenuGroup,{children:(0,a.jsx)(n.$,{className:"h-8 w-full",onClick:H,"data-testid":"upgrade-cta-button",children:e(D?"startTeamPlan":"upgradePlan")})})]})]})})]}),"upgrade-team"===x?(0,a.jsx)(ep,{onOpenChange:()=>j(null),open:!0,team:g}):null,"request-access"===x?(0,a.jsx)(em,{onOpenChange:()=>j(null),open:!0,team:g}):null]}):(0,a.jsx)("div",{className:"w-full p-1",children:(0,a.jsx)(d.E,{className:"collapsed:size-8 h-8 w-full rounded-lg"})})}function ef(){let{locale:e,setLocale:t}=(0,et.useLocale)();return(0,a.jsxs)(ee.l6,{onValueChange:e=>t(e),value:e,children:[(0,a.jsx)(ee.bq,{className:"h-7 max-w-[5.5rem] gap-1 px-2 [&>svg]:w-3 [&>svg]:shrink-0","data-testid":"language-selector",children:(0,a.jsx)("div",{className:"truncate",children:(0,a.jsx)(ee.yv,{placeholder:es.YZ[e]})})}),(0,a.jsx)(ee.gC,{children:(0,a.jsx)(ee.s3,{children:Object.keys(es.YZ).map(e=>(0,a.jsx)(ee.eb,{value:e,children:es.YZ[e]},e))})})]})}function eb(e){let{label:t,children:s}=e;return(0,a.jsxs)("div",{className:"flex h-10 w-full items-center justify-between gap-4 px-1.5",children:[(0,a.jsx)("span",{className:"text-sm font-normal text-gray-900",children:t}),s]})}function ej(e){let{label:t,Icon:s,children:r}=e;return(0,a.jsxs)("div",{className:"flex w-full justify-between gap-4 text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s,(0,a.jsx)("span",{className:"text-nowrap text-sm font-normal text-gray-900",children:t})]}),r]})}function ev(e){let{action:t,...s}=e;return(0,a.jsx)(l.DropdownMenuItem,{asChild:!0,onSelect:e=>{e.preventDefault()},className:"cursor-pointer",children:(0,a.jsx)("form",{action:t,children:(0,a.jsx)(eg,{...s})})})}function eg(e){let{label:t,Icon:s,children:r}=e,{pending:i}=(0,ei.useFormStatus)();return(0,a.jsx)("button",{type:"submit",className:"w-full",children:(0,a.jsx)(ej,{label:t,Icon:i?(0,a.jsx)("div",{className:"flex size-4 items-center justify-center",children:(0,a.jsx)(el.X,{size:4})}):s,children:r})})}function ew(e){let{href:t,external:s=!1,label:r,Icon:i,children:n,onClick:o,className:d}=e;return(0,a.jsx)(l.DropdownMenuItem,{asChild:!0,className:d,onSelect:e=>{e.preventDefault(),null==o||o()},children:(0,a.jsx)(w(),{href:t,children:(0,a.jsxs)(ej,{label:r,Icon:i,children:[n||null,s&&!n?(0,a.jsx)(x.i,{}):null]})})})}},70422:(e,t,s)=>{"use strict";s.d(t,{W:()=>r});var a=s(7336);function r(e){var t;let{chat:s}=e,r=s.title||(null===(t=s.metadata)||void 0===t?void 0:t.title)||"Untitled Chat";return(0,a.jsx)("span",{title:r,children:r.length>21?"".concat(r.slice(0,24),"..."):r})}},72584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Sidebar:()=>N,SidebarContent:()=>C,SidebarFooter:()=>S,SidebarHeader:()=>L,SidebarLabel:()=>I,SidebarList:()=>A,SidebarListItem:()=>D,SidebarListItemAction:()=>H,SidebarListItemButton:()=>z,SidebarListItemLink:()=>P,SidebarListMoreButton:()=>R,SidebarListSkeleton:()=>T,SidebarSection:()=>k,SidebarSeparator:()=>M,SidebarToggleButton:()=>V});var a=s(7336),r=s(80644),i=s(4495),l=s(75720),n=s(49388),o=s(81616),d=s(45028),c=s(12463),u=s(25071);let h=(0,s(72244).G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.245 2.5H14.5V12.5C14.5 13.0523 14.0523 13.5 13.5 13.5H6.245V2.5ZM4.995 2.5H1.5V12.5C1.5 13.0523 1.94772 13.5 2.5 13.5H4.995V2.5ZM0 1H1.5H14.5H16V2.5V12.5C16 13.8807 14.8807 15 13.5 15H2.5C1.11929 15 0 13.8807 0 12.5V2.5V1Z" fill="currentColor"/>');var p=s(99887),m=s(55655),x=s(97629),f=s(10299),b=s(95057),j=s(88293);let v=(0,s(67559).S)('<path d="M18 6L6 18"/><path d="M6 6l12 12"/>');var g=s(36602),w=s(67952),y=s(96668);let N=r.forwardRef((e,t)=>{let{className:s,children:r,...d}=e,{isCollapsed:h,setCollapsed:p,mobileSheetOpen:m,setMobileSheetOpen:x,actionChatId:f}=(0,l.e)();return(0,n.ML)("keydown",e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),e.stopPropagation(),p(!h))}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("aside",{children:[(0,a.jsxs)(c._s,{direction:"left",onOpenChange:e=>{f||x(e)},open:m,shouldScaleBackground:!1,children:[(0,a.jsx)("div",{className:"fixed z-20 flex h-16 items-center pl-3 sm:hidden",children:(0,a.jsx)(c.Uz,{asChild:!0,children:(0,a.jsxs)(o.$,{className:"size-8 [&>svg]:size-5",size:"sm",variant:"ghost",children:[(0,a.jsx)(u.P,{className:"size-4 shrink-0"}),(0,a.jsx)("span",{className:"sr-only",children:"Show Menu"})]})})}),(0,a.jsxs)(c.zj,{className:"bg-muted mt-0 h-svh max-w-[--sidebar-width] rounded-none p-0",hideThumb:!0,style:{"--sidebar-width":"281px"},children:[(0,a.jsxs)(c.BE,{className:"sr-only",children:[(0,a.jsx)(c.gk,{className:"sr-only",children:"Menu"}),(0,a.jsx)(c.I6,{className:"sr-only",children:"Menu for navigating the chat history."})]}),(0,a.jsxs)(L,{className:"pb-0",children:[(0,a.jsx)(B,{className:"size-10"}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)(c.cp,{asChild:!0,children:(0,a.jsxs)(o.$,{className:"size-10 has-[>svg]:p-0",size:"sm",variant:"ghost",children:[(0,a.jsx)(v,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close Sidebar"})]})})]}),r]})]}),(0,a.jsx)(y.NonPaymentBanner,{className:"mt-16 flex border-t sm:hidden"})]}),(0,a.jsxs)("aside",{className:"desktop-sidebar group/sidebar relative hidden sm:flex",style:{"--sidebar-width":"231px","--sidebar-width-collapsed":"49px"},...d,children:[(0,a.jsx)("div",{className:"collapsed:w-[--sidebar-width-collapsed] transition-sidebar  relative z-10 h-svh w-[--sidebar-width] bg-transparent"}),(0,a.jsx)("div",{className:(0,i.cn)("bg-muted border-alpha-200 collapsed:w-[--sidebar-width-collapsed] transition-sidebar fixed inset-y-0 left-0 z-10 flex h-svh w-[--sidebar-width] flex-col overflow-hidden border-r",s),ref:t,children:(0,a.jsxs)("div",{className:"flex h-svh w-[--sidebar-width] flex-1 translate-x-[-0.5px] flex-col overflow-hidden",children:[(0,a.jsxs)(L,{className:"relative pb-1",children:[(0,a.jsx)("div",{className:"flex items-center gap-2.5",children:(0,a.jsx)(B,{})}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"transition-sidebar collapsed:-left-6 collapsed:opacity-0 bg-muted absolute left-[calc(var(--sidebar-width)-theme(spacing.10))] z-10 opacity-100 duration-75",children:(0,a.jsx)(V,{disabled:h})})]}),r]})}),(0,a.jsx)(_,{})]})]})});N.displayName="Sidebar";let L=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex items-center p-2",s),ref:t,...r})});L.displayName="SidebarHeader";let S=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("collapsed:px-2 transition-sidebar flex items-center p-2",s),ref:t,...r})});S.displayName="SidebarFooter";let C=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-1 flex-col overflow-auto",s),ref:t,...r})});C.displayName="SidebarContent";let k=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("transition-sidebar grid w-full min-w-0 p-2",s),ref:t,...r})});k.displayName="SidebarSection";let I=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("collapsed:-mt-9 transition-sidebar flex h-9 select-none items-center px-2 text-[0.8125rem] font-normal text-gray-500",s),ref:t,...r})});I.displayName="SidebarLabel";let M=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(j.Separator,{className:(0,i.cn)("transition-sidebar collapsed:w-8 mx-2 w-[calc(var(--sidebar-width)-theme(spacing.4))] border-b border-dashed bg-transparent",s),ref:t,...r})});M.displayName="SidebarSeparator";let A=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("transition-sidebar flex w-full min-w-0 flex-col gap-1",s),ref:t,...r})});A.displayName="SidebarList";let D=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("group relative flex items-center rounded-md",s),ref:t,...r})});D.displayName="SidebarListItem";let P=r.forwardRef((e,t)=>{var s;let{className:r,asChild:n=!1,href:o,children:c,tooltip:u,unavailable:h,...p}=e,{setMobileSheetOpen:m,isCollapsed:x}=(0,l.e)(),j=(0,i.u6)((0,f.usePathname)()),v=n?d.DX:h?"a":g.PrefetchLinkAndRefreshOnHover,w=(0,a.jsx)(v,{className:(0,i.cn)("group-hover:bg-gray-150 group-has-[[data-state=open]]:bg-gray-150 group-has-[a:focus-visible]:bg-gray-150 focus-visible:ring-offset-background active:bg-gray-150 data-[current=true]:bg-gray-150 collapsed:w-8 transition-sidebar peer relative flex h-8 w-full items-center !justify-start gap-2 overflow-hidden rounded-lg px-2 text-left text-sm font-normal outline-none ring-blue-600 hover:text-gray-900 focus:text-gray-900 focus-visible:pr-10 focus-visible:text-gray-900 focus-visible:ring-2 focus-visible:ring-offset-1 group-hover:pr-10 group-has-[[data-state=open]]:pr-10 group-has-[a:focus-visible]:pr-10","collapsed:!pr-0",h&&"pointer-events-none",r),"data-current":j===o||(null===(s=p.altmatches)||void 0===s?void 0:s.includes(j)),href:o,onClick:()=>m(!1),ref:t,draggable:!1,...p,children:(0,a.jsx)("span",{className:"collapsed:left-2 transition-sidebar absolute inset-2 flex w-fit items-center justify-center gap-2 whitespace-nowrap [&>span]:inline-block [&>span]:w-[calc(var(--sidebar-width)-theme(spacing.12))] [&>span]:truncate [&>span]:transition-all [&>span]:duration-300 [&>span]:ease-in [&>svg]:size-4",children:c})});return u?(0,a.jsx)(b.Tooltip,{open:!!x&&void 0,content:u,side:"right",children:w}):w});P.displayName="SidebarListItemLink";let z=r.forwardRef((e,t)=>{let{className:s,children:r,onClick:n,tooltip:d,...c}=e,{setMobileSheetOpen:u,isCollapsed:h}=(0,l.e)(),p=(0,a.jsx)(o.$,{className:(0,i.cn)("group-hover:bg-gray-150 group-has-[[data-state=open]]:bg-gray-150 group-has-[button:focus-visible]:bg-gray-150 focus-visible:ring-offset-background active:bg-gray-150 data-[current=true]:bg-gray-150 collapsed:w-8 transition-sidebar peer relative flex h-8 w-full items-center !justify-start gap-2 overflow-hidden rounded-lg border-0 px-2 text-left text-sm font-normal ring-blue-600 hover:text-gray-900 focus:text-gray-900 focus-visible:pr-10 focus-visible:text-gray-900 focus-visible:ring-2 focus-visible:ring-offset-1 group-hover:pr-10 group-has-[[data-state=open]]:pr-10 group-has-[button:focus-visible]:pr-10 [&>div>span]:inline-block [&>div>span]:truncate [&>div>span]:transition-all [&>div>span]:duration-300 [&>div>span]:ease-in [&_svg]:size-4","collapsed:!pr-0",s),onClick:e=>{null==n||n(e),u(!1)},ref:t,size:"sm",variant:"ghost",...c,children:(0,a.jsx)("div",{className:"collapsed:left-2 transition-sidebar absolute inset-2 flex w-fit items-center justify-center gap-2 whitespace-nowrap",children:r})});return d?(0,a.jsx)(b.Tooltip,{open:!!h&&void 0,content:d,side:"right",children:p}):p});z.displayName="SidebarListItemButton";let H=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(d.DX,{className:(0,i.cn)("group-hover:bg-gray-150 touch:opacity-100 hover:!bg-alpha-200 data-[state=open]:!bg-alpha-200 focus-visible:bg-alpha-200 active:bg-alpha-200 collapsed:hidden absolute right-1 size-6 translate-x-0 rounded-md bg-transparent !p-0 opacity-0 transition-all focus-visible:opacity-100 group-hover:opacity-100 peer-focus-visible:opacity-100 data-[state=open]:opacity-100",s),ref:t,...r})});H.displayName="SidebarListItemAction";let R=r.forwardRef((e,t)=>{let{className:s,...r}=e,{setMobileSheetOpen:n}=(0,l.e)();return(0,a.jsx)(o.$,{asChild:!0,className:(0,i.cn)("touch:active:text-gray-900 collapsed:hidden touch:active:bg-gray-150 flex !h-8 w-full justify-start !px-2.5 text-[0.8125rem] font-normal text-gray-500 hover:text-gray-900 focus:text-gray-900 focus-visible:text-gray-900",s),onClick:()=>n(!1),ref:t,size:"sm",variant:"link",...r})});R.displayName="SidebarListMoreButton";let T=r.forwardRef((e,t)=>{let{length:s,className:r,...l}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex w-full min-w-0 flex-col gap-1",r),ref:t,...l,children:Array.from({length:s}).map((e,t)=>(0,a.jsx)("div",{className:"collapsed:px-0 last-of-type:collapsed:hidden flex h-8 w-full items-center justify-start px-2",children:(0,a.jsx)("div",{className:"bg-alpha-300 collapsed:size-8 h-5 w-[--width] animate-pulse rounded-md",style:{"--width":["80%","100%","90%","70%","100%","80%","40%"][t]}})},t))})});T.displayName="SidebarListSkeleton";let V=r.forwardRef((e,t)=>{let{className:s,...r}=e,n=(0,m.r)(),{setCollapsed:d,isCollapsed:c}=(0,l.e)(),u=(0,w.k)("sidebar");return(0,a.jsx)(o.$,{className:(0,i.cn)("size-8 has-[>svg]:p-0",s),onClick:()=>d(!c),ref:t,tooltip:r.disabled?void 0:{side:"right",content:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:u("toggle")}),(0,a.jsxs)(x.r,{children:[(0,a.jsx)(x.u,{children:n?"âŒ˜":"Ctrl"}),(0,a.jsx)(x.u,{children:"B"})]})]}),sideOffset:8,className:"pr-1.5"},variant:"ghost",...r,children:(0,a.jsx)(h,{className:"size-4"})})});V.displayName="SidebarToggleButton";let _=r.forwardRef((e,t)=>{let{className:s,...r}=e,{setCollapsed:n,isCollapsed:o}=(0,l.e)(),d=(0,w.k)("sidebar");return(0,a.jsx)("button",{className:(0,i.cn)("collapsed:cursor-e-resize absolute inset-y-0 -right-px z-30 hidden w-[3px] cursor-w-resize transition-all after:absolute after:-inset-x-1.5 after:inset-y-0 after:opacity-20 hover:bg-gray-300 sm:flex",s),"aria-label":d("toggle"),tabIndex:-1,onPointerDown:()=>n(!o),title:d("toggle"),ref:t,...r})});_.displayName="SidebarToggleRail";let B=r.forwardRef((e,t)=>{let{className:s,...r}=e,{setMobileSheetOpen:n,isCollapsed:o}=(0,l.e)();return(0,a.jsx)(p.NewChatButton,{className:(0,i.cn)("size-8",s),onButtonClick:()=>n(!1),ref:t,tabIndex:o?-1:void 0,variant:"logo",...r})});B.displayName="SidebarLogo"},72945:(e,t,s)=>{"use strict";s.d(t,{v:()=>o});var a=s(80644),r=s(59103),i=s(76073),l=s(15993),n=s(82399);function o(e){return function(e){let{activeScopeSlug:t,user:s,isTeam:o}=(0,i.k6)(),{data:d,isLoading:c,mutate:u}=(0,r.Ay)(["project:history",t],async e=>{let[,t]=e;if(!s||!t)return;let a="";if(o){let e=new URLSearchParams;e.set("team",t),a="?".concat(e.toString())}try{let e="/chat/api/projects/history".concat(a),t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to load projects");return(await t.json()).map(e=>({...e,updatedAt:e.updatedAt?new Date(e.updatedAt):new Date}))}catch(e){if(e==n.hB)return;throw l.oR.error("Failed to load projects"),e}},{fallbackData:e}),h=(0,a.useCallback)((e,t)=>{let s=e(d||[]).sort((e,t)=>{var s,a;if(e.favoritedAt&&t.favoritedAt)return new Date(t.favoritedAt).getTime()-new Date(e.favoritedAt).getTime();if(e.favoritedAt)return -1;if(t.favoritedAt)return 1;return new Date(null!==(s=t.updatedAt)&&void 0!==s?s:t.createdAt).getTime()-new Date(null!==(a=e.updatedAt)&&void 0!==a?a:e.createdAt).getTime()});u(s,{optimisticData:s,revalidate:t})},[d,u]);return{data:d,isLoading:c,revalidate:(0,a.useCallback)(()=>u(),[u]),setData:h}}(e)}},90194:(e,t,s)=>{"use strict";s.d(t,{Q:()=>k,L:()=>C});var a=s(7336),r=s(76989),i=s(81616),l=s(85328);let n=(0,s(72244).G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6 2.5H10C10.2761 2.5 10.5 2.72386 10.5 3V4H5.5V3C5.5 2.72386 5.72386 2.5 6 2.5ZM4 4V3C4 1.89543 4.89543 1 6 1H10C11.1046 1 12 1.89543 12 3V4H14.5H16V5.5V13.5C16 14.8807 14.8807 16 13.5 16H2.5C1.11929 16 0 14.8807 0 13.5V5.5V4H1.5H4ZM12 5.5H10.5H5.5H4H1.5V9.25H7.25V8.5H8.75V9.25L14.5 9.25V5.5H12ZM8.75 10.75L14.5 10.75V13.5C14.5 14.0523 14.0523 14.5 13.5 14.5H2.5C1.94772 14.5 1.5 14.0523 1.5 13.5V10.75H7.25V11.5H8.75V10.75Z" fill="currentColor"/>');var o=s(37522),d=s(13870),c=s(39444),u=s(83748),h=s(93125),p=s(38230),m=s.n(p),x=s(4495),f=s(76073),b=s(80644),j=s(72945),v=s(67952),g=s(15993),w=s(25109),y=s(97760),N=s(2115),L=s(22705),S=s(89021);function C(e){let{project:t,actions:s,onOpenChange:d,open:c,side:p="bottom",className:j,...v}=e,g=(0,l.al)(),[w,y]=(0,h.useDeleteProjectModal)(),{activeScope:N,user:L}=(0,f.k6)(),S=t.creatorId===(null==L?void 0:L.id),C=(0,b.useMemo)(()=>!!(N&&"membership"in N&&"OWNER"===N.membership.role),[N]),k=S||C,I=k||s.includes("favorite");return I?(0,a.jsxs)(r.DropdownMenu,{onOpenChange:d,open:c,children:[(0,a.jsx)(r.DropdownMenuTrigger,{asChild:!0,disabled:!I,children:(0,a.jsxs)(i.$,{className:(0,x.cn)("relative z-10 size-7 shrink-0 rounded-md p-0 transition-none has-[>svg]:p-0 ",j),"cmdk-item-actions":"",size:"sm",variant:"ghost",...v,children:[(0,a.jsx)(o.a,{}),(0,a.jsx)("span",{className:"sr-only",children:"Open project actions"})]})}),(0,a.jsx)(r.DropdownMenuContent,{align:g?"end":"right"===p?"start":"end",side:g?"bottom":p,sideOffset:8,children:(0,a.jsxs)(r.DropdownMenuGroup,{children:[k&&s.includes("view")&&(0,a.jsx)(r.DropdownMenuItem,{asChild:!0,children:(0,a.jsxs)(m(),{href:"/chat/projects/".concat(t.projectId),children:[(0,a.jsx)(n,{}),(0,a.jsx)("span",{children:"View Project"})]})}),k&&s.includes("delete")&&(0,a.jsxs)(r.DropdownMenuItem,{onClick:()=>y(t.projectId),variant:"destructive",children:[(0,a.jsx)(u.l,{}),(0,a.jsx)("span",{children:"Delete Project"})]})]})})]}):null}function k(e){let{project:t,initialIsFavorite:s}=e,[r,l]=(0,b.useState)(s),n=(0,v.k)("chatActions"),{setData:o}=(0,j.v)(),{data:u,mutate:h}=(0,L.j)({},"getProjects"),p=(0,b.useCallback)(async()=>{if(l(e=>!e),o(e=>e.map(e=>e.projectId===t.projectId?{...e,userFavoritedProjects:r?null:{updatedAt:Date.now()}}:e)),r){(0,N.u)("UnfavoriteProject",{targetProjectId:t.projectId});let e=u.map(e=>e.projectId===t.projectId?{...e,favoritedAt:null}:e);await h({serverMutate:(0,w.j)(t.projectId).then(e=>{e.error&&(l(!0),g.oR.error(n("failedToUnfavorite")))}),optimisticData:(0,S.p)(e,"favoritedAt")})}else{(0,N.u)("FavoriteProject",{targetProjectId:t.projectId});let e=u.some(e=>e.projectId===t.projectId)?u.map(e=>e.projectId===t.projectId?{...e,favoritedAt:new Date}:e):[...u,{...t,updatedAt:new Date,createdAt:new Date,chatCount:0,sourceCount:0,favoritedAt:new Date}];await h({serverMutate:(0,y.s)(t.projectId).then(e=>{e.error&&(l(!1),g.oR.error(n("failedToFavorite")))}),optimisticData:(0,S.p)(e,"favoritedAt")})}},[o,r,t,h,u,n]);return(0,a.jsx)(i.$,{"aria-label":r?n("unfavorite"):n("favorite"),className:"size-7 rounded-md px-1 py-1.5",size:"sm",variant:"ghost",tooltip:{side:"bottom",content:r?n("unfavorite"):n("favorite")},onClick:p,children:r?(0,a.jsx)(c.e,{className:"!text-amber-600"}):(0,a.jsx)(d.F,{className:"text-gray-900"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8652,5584,3375,6846,9660,9103,8423,6549,4117,8230,5178,1960,3254,4363,1621,9577,703,99,2858,7443,5514,3227,2633,6051,4522,3879,5455,9279,2153,6939,37,7363,6589,9154,8645,916,7421,7358],()=>t(28744)),_N_E=e.O()}]);